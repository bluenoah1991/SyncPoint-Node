{"version":3,"sources":["../src/WebLocalStorage.js"],"names":["WebLocalStorage","number","localStorage","getItem","undefined","setItem","id","parseInt","point","points","JSON","parse","push","stringify","newPoints","forEach","minValue","maxValue","chunk","filter","tuple","map"],"mappings":";;;;;;;;AAAA;;;;;;;;IAEqBA,e;;;;;;;iCAET;AACJ,gBAAIC,SAASC,aAAaC,OAAb,CAAqB,QAArB,CAAb;AACA,gBAAGF,UAAUG,SAAb,EAAuB;AACnBH,yBAAS,CAAT;AACAC,6BAAaG,OAAb,CAAqB,QAArB,EAA+BJ,MAA/B;AACH;AACD,mBAAOA,MAAP;AACH;;;kCAESA,M,EAAO;AACbC,yBAAaG,OAAb,CAAqB,QAArB,EAA+BJ,MAA/B;AACH;;;iCAEO;AACJ,gBAAIK,KAAKJ,aAAaC,OAAb,CAAqB,SAArB,CAAT;AACA,gBAAGG,MAAMF,SAAT,EAAmB;AACf,uBAAO,CAAP;AACH,aAFD,MAEO;AACH,uBAAOG,SAASD,EAAT,CAAP;AACH;AACJ;;;kCAESA,E,EAAG;AACTJ,yBAAaG,OAAb,CAAqB,SAArB,EAAgCC,EAAhC;AACH;;;0CAEiBE,K,EAAM;AACpB,gBAAIC,SAASP,aAAaC,OAAb,CAAqB,kBAArB,CAAb;AACA,gBAAGM,UAAUL,SAAb,EAAuB;AACnBK,yBAAS,EAAT;AACH,aAFD,MAEO;AACHA,yBAASC,KAAKC,KAAL,CAAWF,MAAX,CAAT;AACH;AACDA,mBAAOG,IAAP,CAAYJ,KAAZ;AACAC,qBAASC,KAAKG,SAAL,CAAeJ,MAAf,CAAT;AACAP,yBAAaG,OAAb,CAAqB,kBAArB,EAAyCI,MAAzC;AACH;;;8CAEoB;AACjB,gBAAIA,SAASP,aAAaC,OAAb,CAAqB,kBAArB,CAAb;AACA,gBAAGM,UAAUL,SAAb,EAAuB;AACnBK,yBAAS,EAAT;AACH,aAFD,MAEO;AACHA,yBAASC,KAAKC,KAAL,CAAWF,MAAX,CAAT;AACH;AACD,mBAAOA,MAAP;AACH;;;+CAEqB;AAClBP,yBAAaG,OAAb,CAAqB,kBAArB,EAAyC,IAAzC;AACH;;;iCAEQG,K,EAAM;AACX,gBAAIC,SAASP,aAAaC,OAAb,CAAqB,QAArB,CAAb;AACA,gBAAGM,UAAUL,SAAb,EAAuB;AACnBK,yBAAS,EAAT;AACH,aAFD,MAEO;AACHA,yBAASC,KAAKC,KAAL,CAAWF,MAAX,CAAT;AACH;AACDA,mBAAOG,IAAP,CAAYJ,MAAM,YAAN,CAAZ;AACAC,mBAAOG,IAAP,CAAYJ,MAAM,MAAN,CAAZ;AACAC,qBAASC,KAAKG,SAAL,CAAeJ,MAAf,CAAT;AACAP,yBAAaG,OAAb,CAAqB,QAArB,EAA+BI,MAA/B;AACH;;;kCAESK,S,EAAU;AAChB,gBAAIL,SAASP,aAAaC,OAAb,CAAqB,QAArB,CAAb;AACA,gBAAGM,UAAUL,SAAb,EAAuB;AACnBK,yBAAS,EAAT;AACH,aAFD,MAEO;AACHA,yBAASC,KAAKC,KAAL,CAAWF,MAAX,CAAT;AACH;AACD,6BAAEM,OAAF,CAAUD,SAAV,EAAqB,UAASN,KAAT,EAAe;AAChCC,uBAAOG,IAAP,CAAYJ,MAAM,YAAN,CAAZ;AACAC,uBAAOG,IAAP,CAAYJ,MAAM,MAAN,CAAZ;AACH,aAHD;AAIAC,qBAASC,KAAKG,SAAL,CAAeJ,MAAf,CAAT;AACAP,yBAAaG,OAAb,CAAqB,QAArB,EAA+BI,MAA/B;AACH;;;sCAEaO,Q,EAAUC,Q,EAAS;AAC7B,gBAAIR,SAASP,aAAaC,OAAb,CAAqB,QAArB,CAAb;AACA,gBAAGM,UAAUL,SAAb,EAAuB;AACnBK,yBAAS,EAAT;AACH,aAFD,MAEO;AACHA,yBAASC,KAAKC,KAAL,CAAWF,MAAX,CAAT;AACH;AACDA,qBAAS,iBAAES,KAAF,CAAQT,MAAR,EAAgB,CAAhB,CAAT;AACAA,qBAAS,iBAAEU,MAAF,CAASV,MAAT,EAAiB,UAASW,KAAT,EAAe;AACrC,oBAAInB,SAASmB,MAAM,CAAN,CAAb;AACA,oBAAGJ,YAAYf,MAAZ,IAAsBA,SAASgB,QAAlC,EAA2C;AACvC,2BAAO,IAAP;AACH;AACD,uBAAO,KAAP;AACH,aANQ,CAAT;AAOAR,qBAAS,iBAAEY,GAAF,CAAMZ,MAAN,EAAc,UAASW,KAAT,EAAe;AAClC,uBAAO;AACH,kCAAcA,MAAM,CAAN,CADX;AAEH,4BAAQA,MAAM,CAAN;AAFL,iBAAP;AAIH,aALQ,CAAT;AAMA,mBAAOX,MAAP;AACH;;;;;;kBAxGgBT,e","file":"WebLocalStorage.js","sourcesContent":["import _ from 'lodash';\n\nexport default class WebLocalStorage{\n\n    number(){\n        let number = localStorage.getItem('number');\n        if(number == undefined){\n            number = 0;\n            localStorage.setItem('number', number);\n        }\n        return number;\n    }\n\n    setNumber(number){\n        localStorage.setItem('number', number);\n    }\n\n    syncId(){\n        let id = localStorage.getItem('sync_id');\n        if(id == undefined){\n            return 0;\n        } else {\n            return parseInt(id);\n        }\n    }\n\n    setSyncId(id){\n        localStorage.setItem('sync_id', id);\n    }\n\n    addAnonymousPoint(point){\n        let points = localStorage.getItem('anonymous_points');\n        if(points == undefined){\n            points = [];\n        } else {\n            points = JSON.parse(points);\n        }\n        points.push(point);\n        points = JSON.stringify(points);\n        localStorage.setItem('anonymous_points', points);\n    }\n\n    dumpAnonymousPoints(){\n        let points = localStorage.getItem('anonymous_points');\n        if(points == undefined){\n            points = [];\n        } else {\n            points = JSON.parse(points);\n        }\n        return points;\n    }\n\n    clearAnonymousPoints(){\n        localStorage.setItem('anonymous_points', '[]');\n    }\n\n    addPoint(point){\n        let points = localStorage.getItem('points');\n        if(points == undefined){\n            points = [];\n        } else {\n            points = JSON.parse(points);\n        }\n        points.push(point['syncNumber']);\n        points.push(point['data']);\n        points = JSON.stringify(points);\n        localStorage.setItem('points', points);\n    }\n\n    addPoints(newPoints){\n        let points = localStorage.getItem('points');\n        if(points == undefined){\n            points = [];\n        } else {\n            points = JSON.parse(points);\n        }\n        _.forEach(newPoints, function(point){\n            points.push(point['syncNumber']);\n            points.push(point['data']);\n        });\n        points = JSON.stringify(points);\n        localStorage.setItem('points', points);\n    }\n\n    pointsAtRange(minValue, maxValue){\n        let points = localStorage.getItem('points');\n        if(points == undefined){\n            points = [];\n        } else {\n            points = JSON.parse(points);\n        }\n        points = _.chunk(points, 2);\n        points = _.filter(points, function(tuple){\n            let number = tuple[0];\n            if(minValue <= number && number < maxValue){\n                return true;\n            }\n            return false;\n        });\n        points = _.map(points, function(tuple){\n            return {\n                'syncNumber': tuple[0],\n                'data': tuple[1]\n            };\n        });\n        return points;\n    }\n}"]}